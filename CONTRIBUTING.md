# Guia de Contribui√ß√£o - RegiFlex

Obrigado por seu interesse em contribuir com o RegiFlex! Este guia fornece todas as informa√ß√µes necess√°rias para contribuir de forma efetiva com o projeto.

---

## üìã √çndice

1. [Como Contribuir](#como-contribuir)
2. [Configura√ß√£o do Ambiente](#configura√ß√£o-do-ambiente)
3. [Padr√µes de C√≥digo](#padr√µes-de-c√≥digo)
4. [Processo de Desenvolvimento](#processo-de-desenvolvimento)
5. [Testes](#testes)
6. [Documenta√ß√£o](#documenta√ß√£o)
7. [Reportar Bugs](#reportar-bugs)
8. [Solicitar Funcionalidades](#solicitar-funcionalidades)

---

## ü§ù Como Contribuir

### Tipos de Contribui√ß√£o

- **üêõ Corre√ß√£o de Bugs** - Corrigir problemas existentes
- **‚ú® Novas Funcionalidades** - Implementar recursos solicitados
- **üìö Documenta√ß√£o** - Melhorar ou criar documenta√ß√£o
- **üé® UI/UX** - Melhorias na interface e experi√™ncia do usu√°rio
- **‚ö° Performance** - Otimiza√ß√µes de performance
- **üß™ Testes** - Adicionar ou melhorar testes

### Antes de Come√ßar

1. **Verifique as Issues** existentes para evitar trabalho duplicado
2. **Crie uma Issue** para discutir mudan√ßas significativas
3. **Fork o reposit√≥rio** para sua conta pessoal
4. **Configure o ambiente** de desenvolvimento local

---

## ‚öôÔ∏è Configura√ß√£o do Ambiente

### Pr√©-requisitos

- **Node.js** 18.0.0 ou superior
- **npm** 9.0.0 ou superior
- **Git** 2.30.0 ou superior
- **Conta Supabase** (gratuita)

### Setup Inicial

```bash
# 1. Fork e clone o reposit√≥rio
git clone https://github.com/SEU_USUARIO/RegiFlex-teste.git
cd RegiFlex-teste

# 2. Adicionar reposit√≥rio original como upstream
git remote add upstream https://github.com/artur-source/RegiFlex-teste.git

# 3. Configurar vari√°veis de ambiente
cp .env.example .env

# 4. Editar .env com suas credenciais Supabase
# VITE_SUPABASE_URL=https://seu-projeto.supabase.co
# VITE_SUPABASE_ANON_KEY=sua-chave-aqui

# 5. Instalar depend√™ncias
cd frontend
npm install

# 6. Configurar banco de dados no Supabase
# Executar o conte√∫do de database/schema.sql no SQL Editor do Supabase

# 7. Iniciar servidor de desenvolvimento
npm run dev
```

### Configura√ß√£o do Supabase

1. Acesse [supabase.com](https://supabase.com) e crie uma conta
2. Crie um novo projeto
3. V√° para **Settings > API** e copie:
   - Project URL
   - Public anon key
4. Cole essas informa√ß√µes no arquivo `.env`
5. V√° para **SQL Editor** e execute o script `database/schema.sql`

---

## üìù Padr√µes de C√≥digo

### JavaScript/React

```javascript
// ‚úÖ Bom - Componente funcional com hooks
import React, { useState, useEffect } from 'react';

const MeuComponente = ({ prop1, prop2 }) => {
  const [estado, setEstado] = useState(null);

  useEffect(() => {
    // L√≥gica de efeito
  }, []);

  return (
    <div className="container">
      {/* JSX aqui */}
    </div>
  );
};

export default MeuComponente;
```

### Nomenclatura

- **Componentes:** PascalCase (`MeuComponente.jsx`)
- **Arquivos:** camelCase (`meuArquivo.js`)
- **Pastas:** camelCase (`minhasPastas/`)
- **Vari√°veis:** camelCase (`minhaVariavel`)
- **Constantes:** UPPER_SNAKE_CASE (`MINHA_CONSTANTE`)

### Estrutura de Arquivos

```
frontend/src/
‚îú‚îÄ‚îÄ components/           # Componentes reutiliz√°veis
‚îÇ   ‚îú‚îÄ‚îÄ ui/              # Componentes UI b√°sicos
‚îÇ   ‚îî‚îÄ‚îÄ forms/           # Componentes de formul√°rio
‚îú‚îÄ‚îÄ contexts/            # Context API
‚îú‚îÄ‚îÄ hooks/               # Custom hooks
‚îú‚îÄ‚îÄ lib/                 # Utilit√°rios e configura√ß√µes
‚îú‚îÄ‚îÄ services/            # Servi√ßos de API
‚îú‚îÄ‚îÄ utils/               # Fun√ß√µes utilit√°rias
‚îî‚îÄ‚îÄ assets/              # Imagens e recursos
```

### CSS/Tailwind

```jsx
// ‚úÖ Bom - Classes organizadas por categoria
<div className="
  flex items-center justify-between
  p-4 m-2
  bg-white border border-gray-200 rounded-lg
  hover:shadow-md transition-shadow
">
  {/* Conte√∫do */}
</div>
```

### Supabase/API

```javascript
// ‚úÖ Bom - Tratamento de erro consistente
const buscarPacientes = async () => {
  try {
    const { data, error } = await supabase
      .from('pacientes')
      .select('*')
      .order('created_at', { ascending: false });

    if (error) throw error;
    return data;
  } catch (error) {
    console.error('Erro ao buscar pacientes:', error);
    throw new Error('Falha ao carregar pacientes');
  }
};
```

---

## üîÑ Processo de Desenvolvimento

### Workflow Git

```bash
# 1. Atualizar branch main local
git checkout main
git pull upstream main

# 2. Criar nova branch para sua feature
git checkout -b feature/nome-da-funcionalidade

# 3. Fazer commits pequenos e descritivos
git add .
git commit -m "feat: adicionar componente de busca de pacientes"

# 4. Push para seu fork
git push origin feature/nome-da-funcionalidade

# 5. Criar Pull Request no GitHub
```

### Padr√£o de Commits

Utilizamos [Conventional Commits](https://www.conventionalcommits.org/):

```bash
# Tipos de commit
feat:     # Nova funcionalidade
fix:      # Corre√ß√£o de bug
docs:     # Documenta√ß√£o
style:    # Formata√ß√£o, sem mudan√ßa de l√≥gica
refactor: # Refatora√ß√£o de c√≥digo
test:     # Adicionar ou modificar testes
chore:    # Tarefas de manuten√ß√£o

# Exemplos
git commit -m "feat: adicionar autentica√ß√£o com Supabase"
git commit -m "fix: corrigir valida√ß√£o de formul√°rio de paciente"
git commit -m "docs: atualizar README com instru√ß√µes de deploy"
```

### Branches

- **`main`** - C√≥digo de produ√ß√£o est√°vel
- **`develop`** - Branch de desenvolvimento (se necess√°rio)
- **`feature/nome`** - Novas funcionalidades
- **`fix/nome`** - Corre√ß√µes de bugs
- **`docs/nome`** - Atualiza√ß√µes de documenta√ß√£o

---

## üß™ Testes

### Executar Testes

```bash
# Testes unit√°rios (quando implementados)
npm test

# Testes de integra√ß√£o (quando implementados)
npm run test:integration

# Linting
npm run lint

# Formata√ß√£o de c√≥digo
npm run format
```

### Escrevendo Testes

```javascript
// Exemplo de teste para componente
import { render, screen } from '@testing-library/react';
import MeuComponente from './MeuComponente';

describe('MeuComponente', () => {
  test('deve renderizar corretamente', () => {
    render(<MeuComponente />);
    expect(screen.getByText('Texto esperado')).toBeInTheDocument();
  });
});
```

---

## üìö Documenta√ß√£o

### Documentar Componentes

```javascript
/**
 * Componente para exibir informa√ß√µes do paciente
 * 
 * @param {Object} props
 * @param {Object} props.paciente - Dados do paciente
 * @param {Function} props.onEdit - Callback para edi√ß√£o
 * @param {boolean} props.readonly - Se deve ser somente leitura
 */
const PacienteCard = ({ paciente, onEdit, readonly = false }) => {
  // Implementa√ß√£o
};
```

### Atualizar Documenta√ß√£o

- **README.md** - Informa√ß√µes gerais do projeto
- **ARCHITECTURE.md** - Documenta√ß√£o t√©cnica
- **CONTRIBUTING.md** - Este arquivo
- Coment√°rios no c√≥digo para l√≥gica complexa

---

## üêõ Reportar Bugs

### Antes de Reportar

1. **Verifique** se o bug j√° foi reportado nas Issues
2. **Teste** na vers√£o mais recente
3. **Reproduza** o bug consistentemente

### Template de Bug Report

```markdown
**Descri√ß√£o do Bug**
Descri√ß√£o clara e concisa do problema.

**Passos para Reproduzir**
1. V√° para '...'
2. Clique em '...'
3. Role para baixo at√© '...'
4. Veja o erro

**Comportamento Esperado**
O que deveria acontecer.

**Screenshots**
Se aplic√°vel, adicione screenshots.

**Ambiente:**
- OS: [ex: Windows 10]
- Browser: [ex: Chrome 91]
- Vers√£o: [ex: 2.0.1]

**Informa√ß√µes Adicionais**
Qualquer outra informa√ß√£o relevante.
```

---

## ‚ú® Solicitar Funcionalidades

### Template de Feature Request

```markdown
**A funcionalidade est√° relacionada a um problema?**
Descri√ß√£o clara do problema. Ex: "Fico frustrado quando..."

**Descreva a solu√ß√£o desejada**
Descri√ß√£o clara e concisa do que voc√™ gostaria que acontecesse.

**Descreva alternativas consideradas**
Descri√ß√£o de solu√ß√µes ou funcionalidades alternativas.

**Informa√ß√µes Adicionais**
Qualquer outra informa√ß√£o, screenshots ou exemplos.
```

---

## üîç Code Review

### Checklist para Pull Requests

**Antes de Submeter:**
- [ ] C√≥digo segue os padr√µes estabelecidos
- [ ] Testes passam (quando dispon√≠veis)
- [ ] Documenta√ß√£o atualizada se necess√°rio
- [ ] Commits seguem padr√£o conventional
- [ ] Branch est√° atualizada com main

**Durante Review:**
- [ ] Funcionalidade funciona conforme esperado
- [ ] C√≥digo √© leg√≠vel e bem estruturado
- [ ] N√£o h√° vazamentos de seguran√ßa
- [ ] Performance n√£o foi degradada
- [ ] UI/UX est√° consistente

---

## üöÄ Deploy e Release

### Processo de Release

1. **Merge** para branch main
2. **Tag** da vers√£o seguindo [Semantic Versioning](https://semver.org/)
3. **Deploy autom√°tico** via GitHub Actions (quando configurado)
4. **Atualiza√ß√£o** do CHANGELOG.md

### Versionamento

- **MAJOR** (1.0.0) - Mudan√ßas incompat√≠veis
- **MINOR** (0.1.0) - Novas funcionalidades compat√≠veis
- **PATCH** (0.0.1) - Corre√ß√µes de bugs

---

## üìû Suporte e Comunica√ß√£o

### Canais de Comunica√ß√£o

- **Issues do GitHub** - Para bugs e feature requests
- **Discussions** - Para d√∫vidas gerais e discuss√µes
- **Pull Requests** - Para code review

### Tempo de Resposta

- **Issues cr√≠ticas** - 24-48 horas
- **Pull Requests** - 2-5 dias √∫teis
- **Discuss√µes gerais** - 1 semana

---

## üéØ Boas Pr√°ticas

### Performance

- Use `React.memo` para componentes que re-renderizam frequentemente
- Implemente lazy loading para rotas
- Otimize imagens e assets
- Use Supabase real-time apenas quando necess√°rio

### Seguran√ßa

- Nunca commite credenciais ou chaves de API
- Use vari√°veis de ambiente para configura√ß√µes sens√≠veis
- Valide dados tanto no frontend quanto no backend (RLS)
- Sanitize inputs do usu√°rio

### Acessibilidade

- Use elementos sem√¢nticos HTML
- Adicione `alt` text para imagens
- Garanta contraste adequado de cores
- Teste com leitores de tela

### UX/UI

- Mantenha consist√™ncia visual
- Forne√ßa feedback para a√ß√µes do usu√°rio
- Implemente estados de loading
- Trate erros graciosamente

---

## üìÑ Licen√ßa

Ao contribuir com este projeto, voc√™ concorda que suas contribui√ß√µes ser√£o licenciadas sob a mesma licen√ßa do projeto (MIT License).

---

## üôè Reconhecimentos

Agradecemos a todos os contribuidores que ajudam a tornar o RegiFlex melhor!

---

**D√∫vidas?** Abra uma Issue ou Discussion no GitHub!

**√öltima Atualiza√ß√£o:** Outubro 2025
